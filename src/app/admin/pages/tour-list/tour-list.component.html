<!-- Modal -->

<app-adheader></app-adheader>
<section id="main-content">
  <section class=" wrapper" style="background-color:white">
    <!-- Button trigger modal -->
    <div class="card p-3">
      <div class="grid">
        <div class="col-4">
          <span class="p-float-label">
            <input inputId="name" type="text" class="p-inputtext-sm" [(ngModel)]="params.name" pInputText />
            <label for="name">Tên tour</label>
          </span>
        </div>
      </div>
      <p-toolbar styleClass="px-0 pt-0">
        <div class="p-toolbar-group-left">
          <div class="p-field m-3">
            <button pButton (click)="search()" icon="pi pi-search" pRipple type="button" label="Tìm kiếm"></button>
            <p-button icon="pi pi-replay" (click)="onReset()" class="ml-2"></p-button>
          </div>
        </div>
        <div class="p-toolbar-group-right">
          <button pButton (click)="viewCreate()" label="New" icon="pi pi-plus" class="p-mr-2"></button>
        </div>
      </p-toolbar>
      <p-table [value]="dataTable.content"     responsiveLayout="scroll"
      [resizableColumns]="true">
        <ng-template pTemplate="header">
          <tr>
            <th>STT</th>
            <th>Tên tour</th>
            <th>Hình Ảnh</th>
            <th>Giá</th>
            <th>Tên Loại tour</th>
            <th>Mô tả</th>

            <th>Thời gian</th>
            <th>Tên địa điểm</th>
            <th>Thao tác</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item let-i="rowIndex">
          <tr>
            <td>{{i+1}}</td>
            <td [pTooltip]="item.tourName"><p class="w-10rem white-space-nowrap overflow-hidden text-overflow-ellipsis">

            {{item.tourName}}</p></td>
            <td>
              <p-image src="http://localhost:5000/Photos/{{ item.image }}" alt="Image" width="100px"></p-image>
            </td>
            <td>{{item.price | number:"1.0-0"}}</td>
            <td>{{item.categoryName}}</td>
            <td [pTooltip]="item.description"><p class="w-30rem white-space-nowrap overflow-hidden text-overflow-ellipsis">
              {{item.description}}
            </p></td>

            <td>{{item.time }}</td>
            <td>{{item.placeName}}</td>

            <td>
              <span (click)="viewEdit(item)" class="pointer">
                <em class="pi pi-pencil"></em>
              </span>
              <span (click)="deleteItem(item.tourId)" class="pointer ml-3">
                <em class="pi pi-trash"></em>
              </span>
            </td>
          </tr>
        </ng-template>
      </p-table>
      <p-paginator [showCurrentPageReport]="true" [rows]="dataTable!.size" [totalRecords]="dataTable!.totalElements"
        [rowsPerPageOptions]="[10, 20, 30]" (onPageChange)="pageChange($event)"></p-paginator>
    </div>
  </section>
</section>
