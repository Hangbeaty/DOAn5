<app-adheader></app-adheader>

<section id="main-content">
  <section class="wrapper" style="background-color: white">
    <div class="card p-3">
      <div class="grid">
        <div class="col-4">
          <span class="p-float-label">
            <input
              inputId="name"
              type="text"
              class="p-inputtext-sm"
              [(ngModel)]="params.name"
              pInputText
            />
            <label for="name">Tên tin tuc</label>
          </span>
        </div>
      </div>
      <p-toolbar styleClass="px-0 pt-0">
        <div class="p-toolbar-group-left">
          <div class="p-field m-3">
            <button
              pButton
              (click)="search()"
              icon="pi pi-search"
              pRipple
              type="button"
              label="Tìm kiếm"
            ></button>
            <p-button icon="pi pi-replay" class="ml-2"></p-button>
          </div>
        </div>
        <div class="p-toolbar-group-right">
          <button
            pButton
            (click)="viewCreate()"
            label="New"
            icon="pi pi-plus"
            class="mr-2"
          ></button>
        </div>
      </p-toolbar>
      <p-table [value]="dataTable.content">
        <ng-template pTemplate="header">
          <tr>
            <th>Stt</th>

            <th>New ID</th>
            <th>New Name</th>
            <th>Description</th>
            <th>Image</th>
            <th>Action</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item let-i="rowIndex">
          <tr>
            <td>{{ i + 1 }}</td>
            <td>{{ item.newId }}</td>
            <td>{{ item.newName }}</td>
            <td>{{ item.description }}</td>
            <td>
              <p-image
                src="http://localhost:5000/Photos/{{ item.image }}"
                alt="Image"
                width="200px"
              ></p-image>
            </td>
            <td>
              <span (click)="viewEdit(item)" class="pointer">
                <em class="pi pi-pencil"></em>
              </span>
              <span (click)="deleteItem(item.newId)" class="pointer ml-3">
                <em class="pi pi-trash"></em>
              </span>
            </td>
          </tr>
        </ng-template>
      </p-table>
      <p-paginator
        [showCurrentPageReport]="true"
        [rows]="dataTable!.size"
        [totalRecords]="dataTable!.totalElements"
        [rowsPerPageOptions]="[10, 20, 30]"
        (onPageChange)="pageChange($event)"
      ></p-paginator>
    </div>
    <!-- Button trigger modal -->
  </section>
  <!-- footer -->

  <!-- / footer -->
</section>
